/* css/mobile.css â€” bottom-sheet behavior + header mobile layout */
:root{ --peek-height: 84px; }

@media (max-width:768px){
  /* header: burger left, logo center, heart right already in HTML; hide any large header lists */
  .headerList{display:none!important}
  .site-header{padding:8px 12px;height:56px}

  /* map on top */
  #map{
    position:relative !important;
    width:100% !important;
    height: calc(100vh - 56px - var(--peek-height)); /* initial view when peek not active */
    transition: height .28s cubic-bezier(.2,.9,.3,1);
    z-index:1;
  }

  /* upper controls over map */
  .controlsHeader{position:absolute;left:12px;right:12px;top:12px;z-index:100;display:flex;gap:8px}
  .filterBtn{padding:8px 12px;font-size:14px}
  .searchBox{flex:1}

  /* transform left column into bottom-sheet: make .cardContainer fixed */
  .cardContainer{
    position:fixed;
    left:0;right:0;bottom:0;
    margin:0;
    height:50vh; /* split */
    max-height:100vh;
    z-index:20000;
    border-top-left-radius:14px;
    border-top-right-radius:14px;
    background:#fff;
    box-shadow:0 -12px 30px rgba(0,0,0,0.12);
    transform:translateY(0);
    transition:transform .28s cubic-bezier(.2,.9,.3,1);
    overflow:visible;
  }

  .cardContainer .sheet-handle{
    height:36px;display:flex;align-items:center;justify-content:center;cursor:grab;
  }
  .cardContainer .sheet-handle::before{
    content:"";width:56px;height:6px;border-radius:6px;background:#d0d0d0;display:block;
  }

  .cardContainer .sheet-content{
    overflow:auto;height:calc(50vh - 36px);-webkit-overflow-scrolling:touch;padding:12px;
  }

  /* when map-focused (peek) => map expands, list moves down leaving peek visible */
  .map-focused #map{ height: calc(100vh - var(--peek-height) - 56px); }
  .map-focused .cardContainer{
    height:100vh;
    transform: translateY(calc(100vh - var(--peek-height)));
  }

  /* full screen list */
  .cardContainer.sheet-full{
    transform:translateY(0) !important;height:100vh !important;
  }
  .cardContainer.sheet-full ~ #map,
  .sheet-full ~ #map{
    height:40vh !important;
  }

  /* adjust card visuals on mobile */
  .sectionCard{border-radius:12px;padding:10px;margin:8px 0;background:#fafafa}
  .topSectionCard{flex-direction:row;gap:10px}
  .cardImgContainer{width:92px;height:92px;flex:0 0 92px;border-radius:8px}
  .cardDescription h2{font-size:16px}
  .contentBox p{font-size:14px;padding:8px}
  .mainBtn{font-size:15px;padding:8px 12px;border-radius:10px}

  /* block horizontal overflow risks */
  .cardContainer, .cardContainer * { max-width:100%; box-sizing:border-box; word-break:break-word; }

  /* safe area padding */
  body { padding-bottom: env(safe-area-inset-bottom); }
}
